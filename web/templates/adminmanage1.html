<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>MELOMIX</title>
    <style>
        div.scroll {
            height: 250px;
            overflow-x: hidden;
            overflow-y: auto;
            text-align: justify;
        } 
    </style>
</head>
<body>
    
    <div class="d-flex align-items-center" style="padding: 1em; background-color: #12343d">
        <div class="flex-shrink-0" style="margin-left: 50px;">
            <a href="/adminhome"><img src="static\logo.png" height="100px" width="100px"></a>
        </div>
        <div class="p-5 flex-grow-1 bd-highlight" >
            <h2 style="color: aqua;">Song/Playlist/Album Managemnet</h2></div>
            <div class="p-5 flex-grow-1 bd-highlight">
            
        </div>
        <div class="p-2 flex-shrink-1 bd-highlight" style="color: aqua;">
            <i>Date: {{datetime.strftime("%d/%m/%Y")}}
                <br>
                Time: {{datetime.strftime("%H:%M:%S")}}
                </i>
                <br>
                <a href="/adminhome" class="btn btn-primary">Home</a>
        </div>
    </div>
    <div class="container" style="padding: 2em;">
        <h4>Reported Songs</h4>
        {% if song %}
        <div class="scroll">
        {% for s in song %}
        <div class="d-flex bd-highlight rectangle border border-primary rounded" style="padding: 1em; margin: 15px;">
            <div class="p-1 flex-grow-1 bd-highlight">
            <div class="row g-0"> 
                <div class="col-md-2">
                    <img src="{{s.scover_photo}}" class="img-fluid rounded-start border border-dark" alt="photo" height="150px" width="150px">
                </div>
            <div class="col-md-8" style="padding: 1em;">
            <p><strong>Song Name</strong>: {{s.album_name}}</p>
            <p><strong>Created Date</strong>: {{s.doc.strftime("%d-%m-%Y")}}</p>
            <p><strong>Flaged: </strong> {{s.flag_rate}}</p>
            
            </div>
            </div>
            </div>
            <div class="p-4 flex-shrink-1 bd-highlight">
                <form method='post' action="/mad-song-manage">
                    <input type="text" name="sid" value="{{s.id}}" hidden>
                    <input type="text" name="action" value="song" hidden>
                    <a href="/song/{{s.id}}" class="btn btn-primary">View song</a>
                    <input type="submit" class="btn btn-primary" name="keep" value="All right">
                    <input type="submit" class="btn btn-primary" name="delete" value="Remove Song">
                </form>
            </div>  
        </div>
        {% endfor %}
        {% else %}<p>--No reports to display</p>{% endif %}</div>
    </div>
    <div class="container" style="padding: 2em;">
        <h4>Reported Playlists</h4>
        {% if playlist %}
        {% for p in playlist %}
        <div class="d-flex bd-highlight rectangle border border-primary rounded" style="padding: 1em; margin: 15px;">
            <div class="p-1 flex-grow-1 bd-highlight">
            <div class="row g-0"> 
                <div class="col-md-2">
                    <img src="{{p.playlist_coverphoto}}" class="img-fluid rounded-start border border-dark" alt="photo" height="150px" width="150px">
                </div>
            <div class="col-md-8" style="padding: 1em;">
            <p><strong>Playlist Name</strong>: {{p.playlist_name}}</p>
            <p><strong>Created Date</strong>: {{p.doc.strftime("%d-%m-%Y")}}</p>
            <p><strong>Flaged: </strong> {{p.flag_rate}}</p>
            
            </div>
            </div>
            </div>
            <div class="p-4 flex-shrink-1 bd-highlight">
                <form method='post' action="/mad-song-manage">
                    <input type="text" name="pid" value="{{p.id}}" hidden>
                    <input type="text" name="action" value="playlist" hidden>
                    
                    <input type="submit" class="btn btn-primary" name="keep" value="No problem">
                    <input type="submit" class="btn btn-primary" name="delete" value="Remove Playlist">
                </form>
            </div>  
        </div>
        {% endfor %}
        {% else %}<p>--No reports to display</p>{% endif %}
    </div>
    <div class="container" style="padding: 2em;">
        <h4>Reported Albums</h4>
        {% if album %}
        {% for a in album %}
        <div class="d-flex bd-highlight rectangle border border-primary rounded" style="padding: 1em; margin: 15px;">
            <div class="p-1 flex-grow-1 bd-highlight">
            <div class="row g-0"> 
                <div class="col-md-2">
                    <img src="{{a.album_coverphoto}}" class="img-fluid rounded-start border border-dark" alt="photo" height="150px" width="150px">
                </div>
            <div class="col-md-8" style="padding: 1em;">
            <p><strong>Album Name</strong>: {{a.album_name}}</p>
            <p><strong>Created Date</strong>: {{a.doc.strftime("%d-%m-%Y")}}</p>
            <p><strong>Flaged: </strong> {{a.flag_rate}}</p>
            
            </div>
            </div>
            </div>
            <div class="p-4 flex-shrink-1 bd-highlight">
                <form method='post' action="/mad-song-manage">
                    <input type="text" name="aid" value="{{a.id}}" hidden>
                    <input type="text" name="action" value="album" hidden>
                    
                    <input type="submit" class="btn btn-primary" name="keep" value="No problem">
                    <input type="submit" class="btn btn-primary" name="delete" value="Remove Album">
                </form>
            </div>  
        </div>
        {% endfor %}
        {% else %}<p>--No reports to display</p>{% endif %}
    </div>
</body>
</html>